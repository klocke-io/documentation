import{_ as i,c as a,o as n,a2 as t}from"./chunks/framework.Bfq10Vlj.js";const g=JSON.parse(`{"title":"How to Debug a Pod","description":"Your pod doesn't run as expected. Are there any log files? Where? How could I debug a pod?","frontmatter":{"category":"Debugging","description":"Your pod doesn't run as expected. Are there any log files? Where? How could I debug a pod?","github_repo":"https://github.com/gardener/documentation","github_subdir":"website/documentation/guides/monitoring-and-troubleshooting","last_reviewed":"19.06.2018","level":"intermediate","params":{"github_branch":"master"},"path_base_for_github_subdir":{"from":"content/docs/guides/monitoring-and-troubleshooting/debug-a-pod.md","to":"debug-a-pod.md"},"reviewer":"Tieyan Fu","scope":"app-developer","status":"Reviewed","title":"How to Debug a Pod","prev":false,"next":false},"headers":[],"relativePath":"docs/guides/monitoring-and-troubleshooting/debug-a-pod/index.md","filePath":"docs/guides/monitoring-and-troubleshooting/debug-a-pod.md","lastUpdated":null}`),e={name:"docs/guides/monitoring-and-troubleshooting/debug-a-pod/index.md"};function h(l,s,p,k,r,d){return n(),a("div",null,s[0]||(s[0]=[t(`<h1 id="how-to-debug-a-pod" tabindex="-1">How to Debug a Pod <a class="header-anchor" href="#how-to-debug-a-pod" aria-label="Permalink to &quot;How to Debug a Pod&quot;">​</a></h1><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><p>Kubernetes offers powerful options to get more details about startup or runtime failures of pods as e.g. described in <a href="https://kubernetes.io/docs/tasks/debug-application-cluster/debug-application-introspection/" target="_blank" rel="noreferrer">Application Introspection and Debugging</a> or <a href="https://kubernetes.io/docs/tasks/debug-application-cluster/debug-pod-replication-controller/" target="_blank" rel="noreferrer">Debug Pods and Replication Controllers</a>.</p><p>In order to identify pods with potential issues, you could, e.g., run <code>kubectl get pods --all-namespaces | grep -iv Running </code> to filter out the pods which are not in the state <code>Running</code>. One of frequent error state is <code>CrashLoopBackOff</code>, which tells that a pod crashes right after the start. Kubernetes then tries to restart the pod again, but often the pod startup fails again.</p><p>Here is a short list of possible reasons which might lead to a pod crash:</p><ol><li>Error during image pull caused by e.g. wrong/missing secrets or wrong/missing image</li><li>The app runs in an error state caused e.g. by missing environmental variables (ConfigMaps) or secrets</li><li>Liveness probe failed</li><li>Too high resource consumption (memory and/or CPU) or too strict quota settings</li><li>Persistent volumes can&#39;t be created/mounted</li><li>The container image is not updated</li></ol><p>Basically, the commands <code>kubectl logs ...</code> and <code>kubectl describe ...</code> with different parameters are used to get more detailed information. By calling e.g. <code>kubectl logs --help</code> you can get more detailed information about the command and its parameters.</p><p>In the next sections you&#39;ll find some basic approaches to get some ideas what went wrong.</p><p>Remarks:</p><ul><li>Even if the pods seem to be running, as the status <code>Running</code> indicates, a high counter of the <code>Restarts</code> shows potential problems</li><li>You can get a good overview of the troubleshooting process with the interactive tutorial <a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/explore-intro/" target="_blank" rel="noreferrer">Troubleshooting with Kubectl</a> available which explains basic debugging activities</li><li>The examples below are deployed into the namespace <code>default</code>. In case you want to change it, use the optional parameter <code>--namespace &lt;your-namespace&gt;</code> to select the target namespace. The examples require a Kubernetes release ≥ <em>1.8</em>.</li></ul><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><p>Your deployment was successful (no logical/syntactical errors in the manifest files), but the pod(s) aren&#39;t running.</p><h2 id="error-caused-by-wrong-image-name" tabindex="-1">Error Caused by Wrong Image Name <a class="header-anchor" href="#error-caused-by-wrong-image-name" aria-label="Permalink to &quot;Error Caused by Wrong Image Name&quot;">​</a></h2><p>Start by running <code>kubectl describe pod &lt;your-pod&gt; &lt;your-namespace&gt;</code> to get detailed information about the pod startup.</p><p>In the <code>Events</code> section, you should get an error message like <code>Failed to pull image ...</code> and <code>Reason: Failed</code>. The pod is in state <code>ImagePullBackOff</code>.</p><p>The example below is based on a <a href="https://kubernetes.io/docs/tasks/debug-application-cluster/determine-reason-pod-failure/" target="_blank" rel="noreferrer">demo in the Kubernetes documentation</a>. In all examples, the <code>default</code> namespace is used.</p><p>First, perform a cleanup with:</p><p><code>kubectl delete pod termination-demo</code></p><p>Next, create a resource based on the yaml content below:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Pod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  containers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo-container</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">debiann</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/bin/sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sleep 10 &amp;&amp; echo Sleep expired &gt; /dev/termination-log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p><code>kubectl describe pod termination-demo</code> lists in the <code>Event</code> section the content</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Events:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  FirstSeen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	LastSeen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Count</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	From</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">							SubObjectPath</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">					Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Reason</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">			Message</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ---------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	--------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-----</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	----</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">							-------------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">					--------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			-------</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  2m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		2m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	default-scheduler</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">											Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Scheduled</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> assigned</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> termination-demo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  2m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		2m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">							Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		SuccessfulMountVolume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	MountVolume.SetUp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> succeeded</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> volume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;default-token-sgccm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  2m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		1m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	spec.containers{termination-demo-container}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Pulling</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">			pulling</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;debiann&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  2m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		1m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	spec.containers{termination-demo-container}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">			Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;debiann&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rpc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> error:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> code</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Unknown</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> desc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Error:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> library/debiann:latest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> found</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  2m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		54s</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">							Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		FailedSync</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> syncing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pod</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  2m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		54s</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	spec.containers{termination-demo-container}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		BackOff</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">			Back-off</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pulling</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;debiann&quot;</span></span></code></pre></div><p>The error message with <code>Reason: Failed</code> tells you that there is an error during pulling the image. A closer look at the image name indicates a misspelling.</p><h2 id="the-app-runs-in-an-error-state-caused-e-g-by-missing-environmental-variables-configmaps-or-secrets" tabindex="-1">The App Runs in an Error State Caused, e.g., by Missing Environmental Variables (ConfigMaps) or Secrets <a class="header-anchor" href="#the-app-runs-in-an-error-state-caused-e-g-by-missing-environmental-variables-configmaps-or-secrets" aria-label="Permalink to &quot;The App Runs in an Error State Caused, e.g., by Missing Environmental Variables (ConfigMaps) or Secrets&quot;">​</a></h2><p>This example illustrates the behavior in the case when the app expects environment variables but the corresponding Kubernetes artifacts are missing.</p><p>First, perform a cleanup with:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kubectl delete deployment termination-demo</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kubectl delete configmaps app-env</span></span></code></pre></div><p>Next, deploy the following manifest:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">apps/v1beta2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deployment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">     app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  replicas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    matchLabels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      containers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo-container</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">debian</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/bin/sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sed </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">s/foo/bar/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt; $MYFILE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>Now, the command <code>kubectl get pods</code> lists the pod <code>termination-demo-xxx</code> in the state <code>Error</code> or <code>CrashLoopBackOff</code>. The command <code>kubectl describe pod termination-demo-xxx</code> tells you that there is no error during startup but gives no clue about what caused the crash.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Events:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  FirstSeen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	LastSeen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Count</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	From</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">							SubObjectPath</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">					Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Reason</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Message</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ---------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	--------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-----</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	----</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">							-------------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">					--------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		-------</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  19m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		19m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	default-scheduler</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">											Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Scheduled</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> assigned</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> termination-demo-5fb484867d-xz2x9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  19m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		19m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">							Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		SuccessfulMountVolume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	MountVolume.SetUp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> succeeded</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> volume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;default-token-sgccm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  19m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		19m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	spec.containers{termination-demo-container}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Pulling</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		pulling</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;debian&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  19m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		19m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	spec.containers{termination-demo-container}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Pulled</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pulled</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;debian&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  19m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		19m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	spec.containers{termination-demo-container}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Created</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Created</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> container</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  19m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		19m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	spec.containers{termination-demo-container}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Started</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Started</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> container</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  19m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		14m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	spec.containers{termination-demo-container}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		BackOff</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		Back-off</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restarting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> container</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  19m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		4m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		69</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	kubelet,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-10-250-17-112.eu-west-1.compute.internal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">							Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		FailedSync</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> syncing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pod</span></span></code></pre></div><p>The command <code>kubectl get logs termination-demo-xxx</code> gives access to the output, the application writes on <code>stderr</code> and <code>stdout</code>. In this case, you should get an output similar to:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/bin/sh:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cannot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> open</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> No</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> such</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span></code></pre></div><p>So you need to have a closer look at the application. In this case, the environmental variable <code>MYFILE</code> is missing. To fix this issue, you could e.g. add a ConfigMap to your deployment as is shown in the manifest listed below:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ConfigMap</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">app-env</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  MYFILE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/etc/profile&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">apps/v1beta2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deployment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">     app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  replicas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    matchLabels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      containers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo-container</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">debian</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/bin/sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sed </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">s/foo/bar/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt; $MYFILE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        envFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configMapRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">            name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">app-env</span></span></code></pre></div><p>Note that once you fix the error and re-run the scenario, you might still see the pod in a <code>CrashLoopBackOff</code> status. It is because the container finishes the command <code>sed ...</code> and runs to completion. In order to keep the container in a <code>Running</code> status, a long running task is required, e.g.:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ConfigMap</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">app-env</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  MYFILE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/etc/profile&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  SLEEP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;5&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">apps/v1beta2</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deployment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">     app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  replicas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    matchLabels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      containers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo-container</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">debian</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/bin/sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # args: [&quot;-c&quot;, &quot;sed \\&quot;s/foo/bar/\\&quot; &lt; $MYFILE&quot;]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;while true; do sleep $SLEEP; echo sleeping; done;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        envFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configMapRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">            name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">app-env</span></span></code></pre></div><h2 id="too-high-resource-consumption-memory-and-or-cpu-or-too-strict-quota-settings" tabindex="-1">Too High Resource Consumption (Memory and/or CPU) or Too Strict Quota Settings <a class="header-anchor" href="#too-high-resource-consumption-memory-and-or-cpu-or-too-strict-quota-settings" aria-label="Permalink to &quot;Too High Resource Consumption (Memory and/or CPU) or Too Strict Quota Settings&quot;">​</a></h2><p>You can optionally specify the amount of memory and/or CPU your container gets during runtime. In case these settings are missing, the default requests settings are taken: CPU: 0m (in Milli CPU) and RAM: 0Gi, which indicate no other limits other than the ones of the node(s) itself. For more details, e.g. about how to configure limits, see <a href="https://kubernetes.io/docs/tasks/administer-cluster/memory-default-namespace/" target="_blank" rel="noreferrer">Configure Default Memory Requests and Limits for a Namespace</a>.</p><p>In case your application needs more resources, Kubernetes distinguishes between <code>requests</code> and <code>limit</code> settings: <code>requests</code> specify the guaranteed amount of resource, whereas <code>limit</code> tells Kubernetes the maximum amount of resource the container might need. Mathematically, both settings could be described by the relation <code>0 &lt;= requests &lt;= limit</code>. For both settings you need to consider the total amount of resources your nodes provide. For a detailed description of the concept, see <a href="https://github.com/kubernetes/design-proposals-archive/blob/main/node/resource-qos.md" target="_blank" rel="noreferrer">Resource Quality of Service in Kubernetes</a>.</p><p>Use <code>kubectl describe nodes</code> to get a first overview of the resource consumption in your cluster. Of special interest are the figures indicating the amount of CPU and Memory Requests at the bottom of the output.</p><p>The next example demonstrates what happens in case the CPU request is too high in order to be managed by your cluster.</p><p>First, perform a cleanup with:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kubectl delete deployment termination-demo</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kubectl delete configmaps app-env</span></span></code></pre></div><p>Next, adapt the <code>cpu</code> below in the yaml below to be slightly higher than the remaining CPU resources in your cluster and deploy this manifest. In this example, <code>600m</code> (milli CPUs) are requested in a Kubernetes system with a single 2 core worker node which results in an error message.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">apps/v1beta2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deployment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">     app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  replicas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    matchLabels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      containers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">termination-demo-container</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">debian</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/bin/sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sleep 10 &amp;&amp; echo Sleep expired &gt; /dev/termination-log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        resources</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          requests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">            cpu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;600m&quot;</span></span></code></pre></div><p>The command <code>kubectl get pods</code> lists the pod <code>termination-demo-xxx</code> in the state <code>Pending</code>. More details on why this happens could be found by using the command <code>kubectl describe pod termination-demo-xxx</code>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> po</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> termination-demo-fdb7bb7d9-mzvfw</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Name:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           termination-demo-fdb7bb7d9-mzvfw</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Namespace:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      default</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Containers:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  termination-demo-container:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Image:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      debian</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Port:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">       &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Port:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Command:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      /bin/sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Args:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      -c</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      sleep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sleep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> expired</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/termination-log</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Requests:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      cpu:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        6</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Environment:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Mounts:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      /var/run/secrets/kubernetes.io/serviceaccount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default-token-t549m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ro)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Conditions:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           Status</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  PodScheduled</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   False</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Events:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Reason</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            Age</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               From</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               Message</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     ------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">              ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">               -------</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  FailedScheduling</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  9s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (x7 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">over</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 40s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  default-scheduler  0/2 nodes are available: 2 Insufficient cpu.</span></span></code></pre></div><p>You can find more details in:</p><ul><li><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/" target="_blank" rel="noreferrer">Managing Compute Resources for Containters</a></li><li><a href="https://github.com/kubernetes/design-proposals-archive/blob/main/node/resource-qos.md" target="_blank" rel="noreferrer">Resource Quality of Service in Kubernetes</a></li></ul><p>Remarks:</p><ul><li>This example works similarly when specifying a too high request for memory</li><li>In case you configured an autoscaler range when creating your Kubernetes cluster, another worker node will be spinned up automatically if you didn&#39;t reach the maximum number of worker nodes</li><li>In case your app is running out of memory (the memory settings are too small), you will typically find an <code>OOMKilled</code> (Out Of Memory) message in the <code>Events</code> section of the <code>kubectl describe pod ...</code> output</li></ul><h2 id="the-container-image-is-not-updated" tabindex="-1">The Container Image Is Not Updated <a class="header-anchor" href="#the-container-image-is-not-updated" aria-label="Permalink to &quot;The Container Image Is Not Updated&quot;">​</a></h2><p>You applied a fix in your app, created a new container image and pushed it into your container repository. After redeploying your Kubernetes manifests, you expected to get the updated app, but the same bug is still in the new deployment present.</p><p>This behavior is related to how Kubernetes decides whether to pull a new docker image or to use the cached one.</p><p>In case you didn&#39;t change the image tag, the default image policy <em>IfNotPresent</em> tells Kubernetes to use the cached image (see <a href="https://kubernetes.io/docs/concepts/containers/images/" target="_blank" rel="noreferrer">Images</a>).</p><p>As a best practice, you should not use the tag <code>latest</code> and change the image tag in case you changed anything in your image (see <a href="https://kubernetes.io/docs/concepts/configuration/overview/#container-images" target="_blank" rel="noreferrer">Configuration Best Practices</a>).</p><p>For more information, see <a href="/docs/guides/applications/image-pull-policy/">Container Image Not Updating</a>.</p><h2 id="related-links" tabindex="-1">Related Links <a class="header-anchor" href="#related-links" aria-label="Permalink to &quot;Related Links&quot;">​</a></h2><ul><li><a href="https://kubernetes.io/docs/tasks/debug-application-cluster/debug-application-introspection/" target="_blank" rel="noreferrer">Application Introspection and Debugging</a></li><li><a href="https://kubernetes.io/docs/tasks/debug-application-cluster/debug-pod-replication-controller/" target="_blank" rel="noreferrer">Debug Pods and Replication Controllers</a></li><li><a href="https://kubernetes.io/docs/concepts/cluster-administration/logging/" target="_blank" rel="noreferrer">Logging Architecture</a></li><li><a href="https://kubernetes.io/docs/tasks/administer-cluster/memory-default-namespace/" target="_blank" rel="noreferrer">Configure Default Memory Requests and Limits for a Namespace</a></li><li><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/" target="_blank" rel="noreferrer">Managing Compute Resources for Containters</a></li><li><a href="https://github.com/kubernetes/design-proposals-archive/blob/main/node/resource-qos.md" target="_blank" rel="noreferrer">Resource Quality of Service in Kubernetes</a></li><li><a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/explore-intro/" target="_blank" rel="noreferrer">Interactive Tutorial Troubleshooting with Kubectl</a></li><li><a href="https://kubernetes.io/docs/concepts/containers/images/" target="_blank" rel="noreferrer">Images</a></li><li><a href="https://kubernetes.io/docs/concepts/configuration/overview/#container-images" target="_blank" rel="noreferrer">Kubernetes Best Practices</a></li></ul>`,60)]))}const E=i(e,[["render",h]]);export{g as __pageData,E as default};
