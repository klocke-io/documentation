import{_ as a,c as t,o as r,a2 as o}from"./chunks/framework.B8WFj13S.js";const u=JSON.parse('{"title":"Improving Credential Management for Seed Backups","description":"","frontmatter":{"aliases":["/blog/2025/06/25/improving-credential-management-for-seed-backups"],"authors":[{"avatar":"https://avatars.githubusercontent.com/dimityrmirchev","email":"dimitar.mirchev@sap.com","login":"dimityrmirchev","name":"Dimitar Mirchev"},{"avatar":"https://avatars.githubusercontent.com/vpnachev","email":"vladimir.nachev@sap.com","login":"vpnachev","name":"Vladimir Nachev"}],"github_repo":"https://github.com/gardener/documentation","github_subdir":"website/blog/2025/06","linkTitle":"Improving Credential Management for Seed Backups","newsSubtitle":"June 25, 2025","params":{"github_branch":"master"},"path_base_for_github_subdir":{"from":"content/blog/2025/06/06-25-improving-credential-management-for-seed-backups.md","to":"06-25-improving-credential-management-for-seed-backups.md"},"publishdate":"2025-06-25","title":"Improving Credential Management for Seed Backups"},"headers":[],"relativePath":"blog/2025/06/06-25-improving-credential-management-for-seed-backups/index.md","filePath":"blog/2025/06/06-25-improving-credential-management-for-seed-backups.md","lastUpdated":null}'),n={name:"blog/2025/06/06-25-improving-credential-management-for-seed-backups/index.md"};function i(s,e,c,d,l,p){return r(),t("div",null,e[0]||(e[0]=[o('<h1 id="improving-credential-management-for-seed-backups" tabindex="-1">Improving Credential Management for Seed Backups <a class="header-anchor" href="#improving-credential-management-for-seed-backups" aria-label="Permalink to &quot;Improving Credential Management for Seed Backups&quot;">​</a></h1><p>Gardener has introduced a new feature gate, <code>DoNotCopyBackupCredentials</code>, to enhance the security and clarity of how backup credentials for managed seeds are handled. This change moves away from an implicit credential-copying mechanism to a more explicit and secure configuration practice.</p><h3 id="the-old-behavior-and-its-drawbacks" tabindex="-1">The Old Behavior and Its Drawbacks <a class="header-anchor" href="#the-old-behavior-and-its-drawbacks" aria-label="Permalink to &quot;The Old Behavior and Its Drawbacks&quot;">​</a></h3><p>Previously, when setting up a managed seed, the controller would automatically copy the shoot&#39;s infrastructure credentials to serve as the seed&#39;s backup credentials if a backup secret was not explicitly provided. While this offered some convenience, it had several disadvantages:</p><ul><li><strong>Promoted Poor Security Practices:</strong> It encouraged the use of the same credentials for both shoot infrastructure and seed backups, violating the principle of least privilege and credential segregation.</li><li><strong>Caused Confusion:</strong> The implicit copying of secrets could be confusing for operators, as the source of the backup credential was not immediately obvious from the configuration.</li><li><strong>Inconsistent with Modern Credentials:</strong> The mechanism worked for <code>Secret</code>-based credentials but was not compatible with <code>WorkloadIdentity</code>, which cannot be simply copied.</li></ul><h3 id="the-new-approach-explicit-credential-management" tabindex="-1">The New Approach: Explicit Credential Management <a class="header-anchor" href="#the-new-approach-explicit-credential-management" aria-label="Permalink to &quot;The New Approach: Explicit Credential Management&quot;">​</a></h3><p>The new <code>DoNotCopyBackupCredentials</code> feature gate, when enabled in <code>gardenlet</code>, disables this automatic copying behavior. With the gate active, operators are now required to explicitly create and reference a secret for the seed backup.</p><p>If <code>seed.spec.backup.credentialsRef</code> points to a secret that does not exist, the reconciliation process will fail with an error, ensuring that operators consciously provide a dedicated credential for backups. This change promotes the best practice of using separate, segregated credentials for infrastructure and backups, significantly improving the security posture of the landscape.</p><h3 id="for-operators-what-you-need-to-do" tabindex="-1">For Operators: What You Need to Do <a class="header-anchor" href="#for-operators-what-you-need-to-do" aria-label="Permalink to &quot;For Operators: What You Need to Do&quot;">​</a></h3><p>When you enable the <code>DoNotCopyBackupCredentials</code> feature gate, you must ensure that any <code>Seed</code> you configure has a pre-existing secret for its backup.</p><p>For setups where credentials were previously copied, Gardener helps with the transition. The controller will stop managing the lifecycle of these copied secrets. To help operators identify them for cleanup, these secrets will be labeled with <code>secret.backup.gardener.cloud/status=previously-managed</code>. You can then review these secrets and manage them accordingly.</p><p>This enhancement is a step towards more robust, secure, and transparent operations in Gardener, giving operators clearer control over credential management.</p><h3 id="further-reading" tabindex="-1">Further Reading <a class="header-anchor" href="#further-reading" aria-label="Permalink to &quot;Further Reading&quot;">​</a></h3><ul><li><strong><a href="https://github.com/gardener/gardener/pull/12168" target="_blank" rel="noreferrer">GitHub Pull Request #12168</a></strong></li><li><strong><a href="https://youtu.be/kcXSyloteSs" target="_blank" rel="noreferrer">Recording of the talk</a></strong></li></ul>',14)]))}const m=a(n,[["render",i]]);export{u as __pageData,m as default};
