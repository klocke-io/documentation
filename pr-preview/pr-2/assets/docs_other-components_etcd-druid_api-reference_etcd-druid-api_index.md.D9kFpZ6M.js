import{_ as t,c as r,o as d,a2 as o}from"./chunks/framework.B8WFj13S.js";const u=JSON.parse('{"title":"Etcd Druid Api","description":"","frontmatter":{"github_repo":"https://github.com/gardener/etcd-druid","github_subdir":"docs/api-reference","params":{"github_branch":"master"},"path_base_for_github_subdir":{"from":"content/docs/other-components/etcd-druid/api-reference/etcd-druid-api.md","to":"etcd-druid-api.md"},"title":"Etcd Druid Api","prev":false,"next":false},"headers":[],"relativePath":"docs/other-components/etcd-druid/api-reference/etcd-druid-api/index.md","filePath":"docs/other-components/etcd-druid/api-reference/etcd-druid-api.md","lastUpdated":null}'),a={name:"docs/other-components/etcd-druid/api-reference/etcd-druid-api/index.md"};function i(n,e,c,s,p,l){return d(),r("div",null,e[0]||(e[0]=[o('<h1 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h1><h2 id="packages" tabindex="-1">Packages <a class="header-anchor" href="#packages" aria-label="Permalink to &quot;Packages&quot;">​</a></h2><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#configdruidgardenercloudv1alpha1">config.druid.gardener.cloud/v1alpha1</a></li><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#druidgardenercloudv1alpha1">druid.gardener.cloud/v1alpha1</a></li></ul><h2 id="config-druid-gardener-cloud-v1alpha1" tabindex="-1">config.druid.gardener.cloud/v1alpha1 <a class="header-anchor" href="#config-druid-gardener-cloud-v1alpha1" aria-label="Permalink to &quot;config.druid.gardener.cloud/v1alpha1&quot;">​</a></h2><h4 id="clientconnectionconfiguration" tabindex="-1">ClientConnectionConfiguration <a class="header-anchor" href="#clientconnectionconfiguration" aria-label="Permalink to &quot;ClientConnectionConfiguration&quot;">​</a></h4><p>ClientConnectionConfiguration defines the configuration for constructing a client.Client to connect to k8s kube-apiserver.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#operatorconfiguration">OperatorConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>qps</code> <em>float</em></td><td>QPS controls the number of queries per second allowed for a connection.<br>Setting this to a negative value will disable client-side rate limiting.</td><td></td><td></td></tr><tr><td><code>burst</code> <em>integer</em></td><td>Burst allows extra queries to accumulate when a client is exceeding its rate.</td><td></td><td></td></tr><tr><td><code>contentType</code> <em>string</em></td><td>ContentType is the content type used when sending data to the server from this client.</td><td></td><td></td></tr><tr><td><code>acceptContentTypes</code> <em>string</em></td><td>AcceptContentTypes defines the Accept header sent by clients when connecting to the server,<br>overriding the default value of &#39;application/json&#39;. This field will control all connections<br>to the server used by a particular client.</td><td></td><td></td></tr></tbody></table><h4 id="compactioncontrollerconfiguration" tabindex="-1">CompactionControllerConfiguration <a class="header-anchor" href="#compactioncontrollerconfiguration" aria-label="Permalink to &quot;CompactionControllerConfiguration&quot;">​</a></h4><p>CompactionControllerConfiguration defines the configuration for the compaction controller.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#controllerconfiguration">ControllerConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>enabled</code> <em>boolean</em></td><td>Enabled specifies whether backup compaction should be enabled.</td><td></td><td></td></tr><tr><td><code>concurrentSyncs</code> <em>integer</em></td><td>ConcurrentSyncs is the max number of concurrent workers that can be run, each worker servicing a reconcile request.</td><td></td><td></td></tr><tr><td><code>eventsThreshold</code> <em>integer</em></td><td>EventsThreshold denotes total number of etcd events to be reached upon which a backup compaction job is triggered.</td><td></td><td></td></tr><tr><td><code>triggerFullSnapshotThreshold</code> <em>integer</em></td><td>TriggerFullSnapshotThreshold denotes the upper threshold for the number of etcd events before giving up on compaction job and triggering a full snapshot.</td><td></td><td></td></tr><tr><td><code>activeDeadlineDuration</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>ActiveDeadlineDuration is the duration after which a running compaction job will be killed.</td><td></td><td></td></tr><tr><td><code>metricsScrapeWaitDuration</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>MetricsScrapeWaitDuration is the duration to wait for after compaction job is completed, to allow Prometheus metrics to be scraped</td><td></td><td></td></tr></tbody></table><h4 id="controllerconfiguration" tabindex="-1">ControllerConfiguration <a class="header-anchor" href="#controllerconfiguration" aria-label="Permalink to &quot;ControllerConfiguration&quot;">​</a></h4><p>ControllerConfiguration defines the configuration for the controllers.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#operatorconfiguration">OperatorConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>disableLeaseCache</code> <em>boolean</em></td><td>DisableLeaseCache disables the cache for lease.coordination.k8s.io resources.<br>Deprecated: This field will be eventually removed. It is recommended to not use this.<br>It has only been introduced to allow for backward compatibility with the old CLI flags.</td><td></td><td></td></tr><tr><td><code>etcd</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcontrollerconfiguration">EtcdControllerConfiguration</a></em></td><td>Etcd is the configuration for the Etcd controller.</td><td></td><td></td></tr><tr><td><code>compaction</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#compactioncontrollerconfiguration">CompactionControllerConfiguration</a></em></td><td>Compaction is the configuration for the compaction controller.</td><td></td><td></td></tr><tr><td><code>etcdCopyBackupsTask</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcopybackupstaskcontrollerconfiguration">EtcdCopyBackupsTaskControllerConfiguration</a></em></td><td>EtcdCopyBackupsTask is the configuration for the EtcdCopyBackupsTask controller.</td><td></td><td></td></tr><tr><td><code>secret</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#secretcontrollerconfiguration">SecretControllerConfiguration</a></em></td><td>Secret is the configuration for the Secret controller.</td><td></td><td></td></tr></tbody></table><h4 id="etcdcomponentprotectionwebhookconfiguration" tabindex="-1">EtcdComponentProtectionWebhookConfiguration <a class="header-anchor" href="#etcdcomponentprotectionwebhookconfiguration" aria-label="Permalink to &quot;EtcdComponentProtectionWebhookConfiguration&quot;">​</a></h4><p>EtcdComponentProtectionWebhookConfiguration defines the configuration for EtcdComponentProtection webhook. NOTE: At least one of ReconcilerServiceAccountFQDN or ServiceAccountInfo must be set. It is recommended to switch to ServiceAccountInfo.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#webhookconfiguration">WebhookConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>enabled</code> <em>boolean</em></td><td>Enabled indicates whether the EtcdComponentProtection webhook is enabled.</td><td></td><td></td></tr><tr><td><code>reconcilerServiceAccountFQDN</code> <em>string</em></td><td>ReconcilerServiceAccountFQDN is the FQDN of the reconciler service account used by the etcd-druid operator.<br>Deprecated: Please use ServiceAccountInfo instead and ensure that both Name and Namespace are set via projected volumes and downward API in the etcd-druid deployment spec.</td><td></td><td></td></tr><tr><td><code>serviceAccountInfo</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#serviceaccountinfo">ServiceAccountInfo</a></em></td><td>ServiceAccountInfo contains paths to gather etcd-druid service account information.</td><td></td><td></td></tr><tr><td><code>exemptServiceAccounts</code> <em>string array</em></td><td>ExemptServiceAccounts is a list of service accounts that are exempt from Etcd Components Webhook checks.</td><td></td><td></td></tr></tbody></table><h4 id="etcdcontrollerconfiguration" tabindex="-1">EtcdControllerConfiguration <a class="header-anchor" href="#etcdcontrollerconfiguration" aria-label="Permalink to &quot;EtcdControllerConfiguration&quot;">​</a></h4><p>EtcdControllerConfiguration defines the configuration for the Etcd controller.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#controllerconfiguration">ControllerConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>concurrentSyncs</code> <em>integer</em></td><td>ConcurrentSyncs is the max number of concurrent workers that can be run, each worker servicing a reconcile request.</td><td></td><td></td></tr><tr><td><code>enableEtcdSpecAutoReconcile</code> <em>boolean</em></td><td>EnableEtcdSpecAutoReconcile controls how the Etcd Spec is reconciled. If set to true, then any change in Etcd spec<br>will automatically trigger a reconciliation of the Etcd resource. If set to false, then an operator needs to<br>explicitly set gardener.cloud/operation=reconcile annotation on the Etcd resource to trigger reconciliation<br>of the Etcd spec.<br>NOTE: Decision to enable it should be carefully taken as spec updates could potentially result in rolling update<br>of the StatefulSet which will cause a minor downtime for a single node etcd cluster and can potentially cause a<br>downtime for a multi-node etcd cluster.</td><td></td><td></td></tr><tr><td><code>disableEtcdServiceAccountAutomount</code> <em>boolean</em></td><td>DisableEtcdServiceAccountAutomount controls the auto-mounting of service account token for etcd StatefulSets.</td><td></td><td></td></tr><tr><td><code>etcdStatusSyncPeriod</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>EtcdStatusSyncPeriod is the duration after which an event will be re-queued ensuring etcd status synchronization.</td><td></td><td></td></tr><tr><td><code>etcdMember</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdmemberconfiguration">EtcdMemberConfiguration</a></em></td><td>EtcdMember holds configuration related to etcd members.</td><td></td><td></td></tr></tbody></table><h4 id="etcdcopybackupstaskcontrollerconfiguration" tabindex="-1">EtcdCopyBackupsTaskControllerConfiguration <a class="header-anchor" href="#etcdcopybackupstaskcontrollerconfiguration" aria-label="Permalink to &quot;EtcdCopyBackupsTaskControllerConfiguration&quot;">​</a></h4><p>EtcdCopyBackupsTaskControllerConfiguration defines the configuration for the EtcdCopyBackupsTask controller.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#controllerconfiguration">ControllerConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>enabled</code> <em>boolean</em></td><td>Enabled specifies whether EtcdCopyBackupsTaskController should be enabled.</td><td></td><td></td></tr><tr><td><code>concurrentSyncs</code> <em>integer</em></td><td>ConcurrentSyncs is the max number of concurrent workers that can be run, each worker servicing a reconcile request.</td><td></td><td></td></tr></tbody></table><h4 id="etcdmemberconfiguration" tabindex="-1">EtcdMemberConfiguration <a class="header-anchor" href="#etcdmemberconfiguration" aria-label="Permalink to &quot;EtcdMemberConfiguration&quot;">​</a></h4><p>EtcdMemberConfiguration holds configuration related to etcd members.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcontrollerconfiguration">EtcdControllerConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>notReadyThreshold</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>NotReadyThreshold is the duration after which an etcd member&#39;s state is considered <code>NotReady</code>.</td><td></td><td></td></tr><tr><td><code>unknownThreshold</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>UnknownThreshold is the duration after which an etcd member&#39;s state is considered <code>Unknown</code>.</td><td></td><td></td></tr></tbody></table><h4 id="leaderelectionconfiguration" tabindex="-1">LeaderElectionConfiguration <a class="header-anchor" href="#leaderelectionconfiguration" aria-label="Permalink to &quot;LeaderElectionConfiguration&quot;">​</a></h4><p>LeaderElectionConfiguration defines the configuration for the leader election. It should be enabled when you deploy etcd-druid in HA mode. For single replica etcd-druid deployments it will not really serve any purpose.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#operatorconfiguration">OperatorConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>enabled</code> <em>boolean</em></td><td>Enabled specifies whether leader election is enabled. Set this<br>to true when running replicated instances of the operator for high availability.</td><td></td><td></td></tr><tr><td><code>leaseDuration</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>LeaseDuration is the duration that non-leader candidates will wait<br>after observing a leadership renewal until attempting to acquire<br>leadership of the occupied but un-renewed leader slot. This is effectively the<br>maximum duration that a leader can be stopped before it is replaced<br>by another candidate. This is only applicable if leader election is<br>enabled.</td><td></td><td></td></tr><tr><td><code>renewDeadline</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>RenewDeadline is the interval between attempts by the acting leader to<br>renew its leadership before it stops leading. This must be less than or<br>equal to the lease duration.<br>This is only applicable if leader election is enabled.</td><td></td><td></td></tr><tr><td><code>retryPeriod</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>RetryPeriod is the duration leader elector clients should wait<br>between attempting acquisition and renewal of leadership.<br>This is only applicable if leader election is enabled.</td><td></td><td></td></tr><tr><td><code>resourceLock</code> <em>string</em></td><td>ResourceLock determines which resource lock to use for leader election.<br>This is only applicable if leader election is enabled.</td><td></td><td></td></tr><tr><td><code>resourceName</code> <em>string</em></td><td>ResourceName determines the name of the resource that leader election<br>will use for holding the leader lock.<br>This is only applicable if leader election is enabled.</td><td></td><td></td></tr></tbody></table><h4 id="logconfiguration" tabindex="-1">LogConfiguration <a class="header-anchor" href="#logconfiguration" aria-label="Permalink to &quot;LogConfiguration&quot;">​</a></h4><p>LogConfiguration contains the configuration for logging.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#operatorconfiguration">OperatorConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>logLevel</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#loglevel">LogLevel</a></em></td><td>LogLevel is the level/severity for the logs. Must be one of [info,debug,error].</td><td></td><td></td></tr><tr><td><code>logFormat</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#logformat">LogFormat</a></em></td><td>LogFormat is the output format for the logs. Must be one of [text,json].</td><td></td><td></td></tr></tbody></table><h4 id="logformat" tabindex="-1">LogFormat <a class="header-anchor" href="#logformat" aria-label="Permalink to &quot;LogFormat&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>LogFormat is the format of the log.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#logconfiguration">LogConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>json</code></td><td>LogFormatJSON is the JSON log format.<br></td></tr><tr><td><code>text</code></td><td>LogFormatText is the text log format.<br></td></tr></tbody></table><h4 id="loglevel" tabindex="-1">LogLevel <a class="header-anchor" href="#loglevel" aria-label="Permalink to &quot;LogLevel&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>LogLevel represents the level for logging.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#logconfiguration">LogConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>debug</code></td><td>LogLevelDebug is the debug log level, i.e. the most verbose.<br></td></tr><tr><td><code>info</code></td><td>LogLevelInfo is the default log level.<br></td></tr><tr><td><code>error</code></td><td>LogLevelError is a log level where only errors are logged.<br></td></tr></tbody></table><h4 id="secretcontrollerconfiguration" tabindex="-1">SecretControllerConfiguration <a class="header-anchor" href="#secretcontrollerconfiguration" aria-label="Permalink to &quot;SecretControllerConfiguration&quot;">​</a></h4><p>SecretControllerConfiguration defines the configuration for the Secret controller.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#controllerconfiguration">ControllerConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>concurrentSyncs</code> <em>integer</em></td><td>ConcurrentSyncs is the max number of concurrent workers that can be run, each worker servicing a reconcile request.</td><td></td><td></td></tr></tbody></table><h4 id="server" tabindex="-1">Server <a class="header-anchor" href="#server" aria-label="Permalink to &quot;Server&quot;">​</a></h4><p>Server contains information for HTTP(S) server configuration.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#serverconfiguration">ServerConfiguration</a></li><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#tlsserver">TLSServer</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>bindAddress</code> <em>string</em></td><td>BindAddress is the IP address on which to listen for the specified port.</td><td></td><td></td></tr><tr><td><code>port</code> <em>integer</em></td><td>Port is the port on which to serve unsecured, unauthenticated access.</td><td></td><td></td></tr></tbody></table><h4 id="serverconfiguration" tabindex="-1">ServerConfiguration <a class="header-anchor" href="#serverconfiguration" aria-label="Permalink to &quot;ServerConfiguration&quot;">​</a></h4><p>ServerConfiguration contains the server configurations.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#operatorconfiguration">OperatorConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>webhooks</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#tlsserver">TLSServer</a></em></td><td>Webhooks is the configuration for the TLS webhook server.</td><td></td><td></td></tr><tr><td><code>metrics</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#server">Server</a></em></td><td>Metrics is the configuration for serving the metrics endpoint.</td><td></td><td></td></tr></tbody></table><h4 id="serviceaccountinfo" tabindex="-1">ServiceAccountInfo <a class="header-anchor" href="#serviceaccountinfo" aria-label="Permalink to &quot;ServiceAccountInfo&quot;">​</a></h4><p>ServiceAccountInfo contains paths to gather etcd-druid service account information. Usually downward API and projected volumes are used in the deployment specification of etcd-druid to provide this information as mounted volume files.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcomponentprotectionwebhookconfiguration">EtcdComponentProtectionWebhookConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>name</code> <em>string</em></td><td>Name is the name of the service account associated with etcd-druid deployment.</td><td></td><td></td></tr><tr><td><code>namespace</code> <em>string</em></td><td>Namespace is the namespace in which the service account has been deployed.<br>Usually this information is usually available at /var/run/secrets/kubernetes.io/serviceaccount/namespace.<br>However, if automountServiceAccountToken is set to false then this file will not be available.</td><td></td><td></td></tr></tbody></table><h4 id="tlsserver" tabindex="-1">TLSServer <a class="header-anchor" href="#tlsserver" aria-label="Permalink to &quot;TLSServer&quot;">​</a></h4><p>TLSServer is the configuration for a TLS enabled server.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#serverconfiguration">ServerConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>bindAddress</code> <em>string</em></td><td>BindAddress is the IP address on which to listen for the specified port.</td><td></td><td></td></tr><tr><td><code>port</code> <em>integer</em></td><td>Port is the port on which to serve unsecured, unauthenticated access.</td><td></td><td></td></tr><tr><td><code>serverCertDir</code> <em>string</em></td><td>ServerCertDir is the path to a directory containing the server&#39;s TLS certificate and key (the files must be<br>named tls.crt and tls.key respectively).</td><td></td><td></td></tr></tbody></table><h4 id="webhookconfiguration" tabindex="-1">WebhookConfiguration <a class="header-anchor" href="#webhookconfiguration" aria-label="Permalink to &quot;WebhookConfiguration&quot;">​</a></h4><p>WebhookConfiguration defines the configuration for admission webhooks.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#operatorconfiguration">OperatorConfiguration</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>etcdComponentProtection</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcomponentprotectionwebhookconfiguration">EtcdComponentProtectionWebhookConfiguration</a></em></td><td>EtcdComponentProtection is the configuration for EtcdComponentProtection webhook.</td><td></td><td></td></tr></tbody></table><h2 id="druid-gardener-cloud-v1alpha1" tabindex="-1">druid.gardener.cloud/v1alpha1 <a class="header-anchor" href="#druid-gardener-cloud-v1alpha1" aria-label="Permalink to &quot;druid.gardener.cloud/v1alpha1&quot;">​</a></h2><p>Package v1alpha1 contains API Schema definitions for the druid v1alpha1 API group</p><h3 id="resource-types" tabindex="-1">Resource Types <a class="header-anchor" href="#resource-types" aria-label="Permalink to &quot;Resource Types&quot;">​</a></h3><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcd">Etcd</a></li><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcopybackupstask">EtcdCopyBackupsTask</a></li></ul><h4 id="backupspec" tabindex="-1">BackupSpec <a class="header-anchor" href="#backupspec" aria-label="Permalink to &quot;BackupSpec&quot;">​</a></h4><p>BackupSpec defines parameters associated with the full and delta snapshots of etcd.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdspec">EtcdSpec</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>port</code> <em>integer</em></td><td>Port define the port on which etcd-backup-restore server will be exposed.</td><td></td><td></td></tr><tr><td><code>tls</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#tlsconfig">TLSConfig</a></em></td><td></td><td></td><td></td></tr><tr><td><code>image</code> <em>string</em></td><td>Image defines the etcd container image and tag</td><td></td><td></td></tr><tr><td><code>store</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#storespec">StoreSpec</a></em></td><td>Store defines the specification of object store provider for storing backups.</td><td></td><td></td></tr><tr><td><code>resources</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#resourcerequirements-v1-core" target="_blank" rel="noreferrer">ResourceRequirements</a></em></td><td>Resources defines compute Resources required by backup-restore container.<br>More info: <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/" target="_blank" rel="noreferrer">https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/</a></td><td></td><td></td></tr><tr><td><code>snapshotCompaction</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#snapshotcompactionspec">SnapshotCompactionSpec</a></em></td><td>SnapshotCompaction defines the specification for compaction of backups.</td><td></td><td></td></tr><tr><td><code>fullSnapshotSchedule</code> <em>string</em></td><td>FullSnapshotSchedule defines the cron standard schedule for full snapshots.</td><td></td><td>Pattern: <code>^(\\*|[1-5]?[0-9]|[1-5]?[0-9]-[1-5]?[0-9]|(?:[1-9]|[1-4][0-9]|5[0-9])\\/(?:[1-9]|[1-4][0-9]|5[0-9]|60)|\\*\\/(?:[1-9]|[1-4][0-9]|5[0-9]|60))\\s+(\\*|[0-9]|1[0-9]|2[0-3]|[0-9]-(?:[0-9]|1[0-9]|2[0-3])|1[0-9]-(?:1[0-9]|2[0-3])|2[0-3]-2[0-3]|(?:[1-9]|1[0-9]|2[0-3])\\/(?:[1-9]|1[0-9]|2[0-4])|\\*\\/(?:[1-9]|1[0-9]|2[0-4]))\\s+(\\*|[1-9]|[12][0-9]|3[01]|[1-9]-(?:[1-9]|[12][0-9]|3[01])|[12][0-9]-(?:[12][0-9]|3[01])|3[01]-3[01]|(?:[1-9]|[12][0-9]|30)\\/(?:[1-9]|[12][0-9]|3[01])|\\*\\/(?:[1-9]|[12][0-9]|3[01]))\\s+(\\*|[1-9]|1[0-2]|[1-9]-(?:[1-9]|1[0-2])|1[0-2]-1[0-2]|(?:[1-9]|1[0-2])\\/(?:[1-9]|1[0-2])|\\*\\/(?:[1-9]|1[0-2]))\\s+(\\*|[1-7]|[1-6]-[1-7]|[1-6]\\/[1-7]|\\*\\/[1-7])$</code> <br></td></tr><tr><td><code>garbageCollectionPolicy</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#garbagecollectionpolicy">GarbageCollectionPolicy</a></em></td><td>GarbageCollectionPolicy defines the policy for garbage collecting old backups</td><td></td><td>Enum: [Exponential LimitBased] <br></td></tr><tr><td><code>maxBackupsLimitBasedGC</code> <em>integer</em></td><td>MaxBackupsLimitBasedGC defines the maximum number of Full snapshots to retain in Limit Based GarbageCollectionPolicy<br>All full snapshots beyond this limit will be garbage collected.</td><td></td><td></td></tr><tr><td><code>garbageCollectionPeriod</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>GarbageCollectionPeriod defines the period for garbage collecting old backups</td><td></td><td>Pattern: <code>^([0-9]+([.][0-9]+)?h)?([0-9]+([.][0-9]+)?m)?([0-9]+([.][0-9]+)?s)?([0-9]+([.][0-9]+)?d)?$</code> <br>Type: string <br></td></tr><tr><td><code>deltaSnapshotPeriod</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>DeltaSnapshotPeriod defines the period after which delta snapshots will be taken</td><td></td><td>Pattern: <code>^([0-9]+([.][0-9]+)?h)?([0-9]+([.][0-9]+)?m)?([0-9]+([.][0-9]+)?s)?([0-9]+([.][0-9]+)?d)?$</code> <br>Type: string <br></td></tr><tr><td><code>deltaSnapshotMemoryLimit</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#quantity-resource-api" target="_blank" rel="noreferrer">Quantity</a></em></td><td>DeltaSnapshotMemoryLimit defines the memory limit after which delta snapshots will be taken</td><td></td><td></td></tr><tr><td><code>deltaSnapshotRetentionPeriod</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>DeltaSnapshotRetentionPeriod defines the duration for which delta snapshots will be retained, excluding the latest snapshot set.<br>The value should be a string formatted as a duration (e.g., &#39;1s&#39;, &#39;2m&#39;, &#39;3h&#39;, &#39;4d&#39;)</td><td></td><td>Pattern: <code>^([0-9]+([.][0-9]+)?h)?([0-9]+([.][0-9]+)?m)?([0-9]+([.][0-9]+)?s)?([0-9]+([.][0-9]+)?d)?$</code> <br>Type: string <br></td></tr><tr><td><code>compression</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#compressionspec">CompressionSpec</a></em></td><td>SnapshotCompression defines the specification for compression of Snapshots.</td><td></td><td></td></tr><tr><td><code>enableProfiling</code> <em>boolean</em></td><td>EnableProfiling defines if profiling should be enabled for the etcd-backup-restore-sidecar</td><td></td><td></td></tr><tr><td><code>etcdSnapshotTimeout</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>EtcdSnapshotTimeout defines the timeout duration for etcd FullSnapshot operation</td><td></td><td>Pattern: <code>^([0-9]+([.][0-9]+)?h)?([0-9]+([.][0-9]+)?m)?([0-9]+([.][0-9]+)?s)?([0-9]+([.][0-9]+)?d)?$</code> <br>Type: string <br></td></tr><tr><td><code>leaderElection</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#leaderelectionspec">LeaderElectionSpec</a></em></td><td>LeaderElection defines parameters related to the LeaderElection configuration.</td><td></td><td></td></tr></tbody></table><h4 id="clientservice" tabindex="-1">ClientService <a class="header-anchor" href="#clientservice" aria-label="Permalink to &quot;ClientService&quot;">​</a></h4><p>ClientService defines the parameters of the client service that a user can specify</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdconfig">EtcdConfig</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>annotations</code> <em>object (keys:string, values:string)</em></td><td>Annotations specify the annotations that should be added to the client service</td><td></td><td></td></tr><tr><td><code>labels</code> <em>object (keys:string, values:string)</em></td><td>Labels specify the labels that should be added to the client service</td><td></td><td></td></tr><tr><td><code>trafficDistribution</code> <em>string</em></td><td>TrafficDistribution defines the traffic distribution preference that should be added to the client service.<br>More info: <a href="https://kubernetes.io/docs/reference/networking/virtual-ips/#traffic-distribution" target="_blank" rel="noreferrer">https://kubernetes.io/docs/reference/networking/virtual-ips/#traffic-distribution</a></td><td></td><td>Enum: [PreferClose] <br></td></tr></tbody></table><h4 id="compactionmode" tabindex="-1">CompactionMode <a class="header-anchor" href="#compactionmode" aria-label="Permalink to &quot;CompactionMode&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>CompactionMode defines the auto-compaction-mode: &#39;periodic&#39; or &#39;revision&#39;. &#39;periodic&#39; for duration based retention and &#39;revision&#39; for revision number based retention.</p><p><em>Validation:</em></p><ul><li>Enum: [periodic revision]</li></ul><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#sharedconfig">SharedConfig</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>periodic</code></td><td>Periodic is a constant to set auto-compaction-mode &#39;periodic&#39; for duration based retention.<br></td></tr><tr><td><code>revision</code></td><td>Revision is a constant to set auto-compaction-mode &#39;revision&#39; for revision number based retention.<br></td></tr></tbody></table><h4 id="compressionpolicy" tabindex="-1">CompressionPolicy <a class="header-anchor" href="#compressionpolicy" aria-label="Permalink to &quot;CompressionPolicy&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>CompressionPolicy defines the type of policy for compression of snapshots.</p><p><em>Validation:</em></p><ul><li>Enum: [gzip lzw zlib]</li></ul><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#compressionspec">CompressionSpec</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>gzip</code></td><td>GzipCompression is constant for gzip compression policy.<br></td></tr><tr><td><code>lzw</code></td><td>LzwCompression is constant for lzw compression policy.<br></td></tr><tr><td><code>zlib</code></td><td>ZlibCompression is constant for zlib compression policy.<br></td></tr></tbody></table><h4 id="compressionspec" tabindex="-1">CompressionSpec <a class="header-anchor" href="#compressionspec" aria-label="Permalink to &quot;CompressionSpec&quot;">​</a></h4><p>CompressionSpec defines parameters related to compression of Snapshots(full as well as delta).</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#backupspec">BackupSpec</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>enabled</code> <em>boolean</em></td><td></td><td></td><td></td></tr><tr><td><code>policy</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#compressionpolicy">CompressionPolicy</a></em></td><td></td><td></td><td>Enum: [gzip lzw zlib] <br></td></tr></tbody></table><h4 id="condition" tabindex="-1">Condition <a class="header-anchor" href="#condition" aria-label="Permalink to &quot;Condition&quot;">​</a></h4><p>Condition holds the information about the state of a resource.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcopybackupstaskstatus">EtcdCopyBackupsTaskStatus</a></li><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdstatus">EtcdStatus</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>type</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#conditiontype">ConditionType</a></em></td><td>Type of the Etcd condition.</td><td></td><td></td></tr><tr><td><code>status</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#conditionstatus">ConditionStatus</a></em></td><td>Status of the condition, one of True, False, Unknown.</td><td></td><td></td></tr><tr><td><code>lastTransitionTime</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#time-v1-meta" target="_blank" rel="noreferrer">Time</a></em></td><td>Last time the condition transitioned from one status to another.</td><td></td><td></td></tr><tr><td><code>lastUpdateTime</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#time-v1-meta" target="_blank" rel="noreferrer">Time</a></em></td><td>Last time the condition was updated.</td><td></td><td></td></tr><tr><td><code>reason</code> <em>string</em></td><td>The reason for the condition&#39;s last transition.</td><td></td><td></td></tr><tr><td><code>message</code> <em>string</em></td><td>A human-readable message indicating details about the transition.</td><td></td><td></td></tr></tbody></table><h4 id="conditionstatus" tabindex="-1">ConditionStatus <a class="header-anchor" href="#conditionstatus" aria-label="Permalink to &quot;ConditionStatus&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>ConditionStatus is the status of a condition.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#condition">Condition</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>True</code></td><td>ConditionTrue means a resource is in the condition.<br></td></tr><tr><td><code>False</code></td><td>ConditionFalse means a resource is not in the condition.<br></td></tr><tr><td><code>Unknown</code></td><td>ConditionUnknown means Gardener can&#39;t decide if a resource is in the condition or not.<br></td></tr><tr><td><code>Progressing</code></td><td>ConditionProgressing means the condition was seen true, failed but stayed within a predefined failure threshold.<br>In the future, we could add other intermediate conditions, e.g. ConditionDegraded.<br>Deprecated: Will be removed in the future since druid conditions will be replaced by metav1.Condition<br>which has only three status options: True, False, Unknown.<br></td></tr><tr><td><code>ConditionCheckError</code></td><td>ConditionCheckError is a constant for a reason in condition.<br>Deprecated: Will be removed in the future since druid conditions will be replaced by metav1.Condition<br>which has only three status options: True, False, Unknown.<br></td></tr></tbody></table><h4 id="conditiontype" tabindex="-1">ConditionType <a class="header-anchor" href="#conditiontype" aria-label="Permalink to &quot;ConditionType&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>ConditionType is the type of condition.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#condition">Condition</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>Ready</code></td><td>ConditionTypeReady is a constant for a condition type indicating that the etcd cluster is ready.<br></td></tr><tr><td><code>LastSnapshotCompactionSucceeded</code></td><td>ConditionTypeLastSnapshotCompactionSucceeded is a constant for a condition type indicating the status of last snapshot compaction.<br>If <code>ConditionTypeLastSnapshotCompactionSucceeded</code> condition status is <code>False</code>, it means the compaction controller is currently retrying the compaction operation.<br>Compaction operation can either be a compaction job or a full snapshot.<br></td></tr><tr><td><code>AllMembersReady</code></td><td>ConditionTypeAllMembersReady is a constant for a condition type indicating that all members of the etcd cluster are ready.<br></td></tr><tr><td><code>AllMembersUpdated</code></td><td>ConditionTypeAllMembersUpdated is a constant for a condition type indicating that all members<br>of the etcd cluster have been updated with the desired spec changes.<br></td></tr><tr><td><code>BackupReady</code></td><td>ConditionTypeBackupReady is a constant for a condition type indicating that the etcd backup is ready.<br></td></tr><tr><td><code>DataVolumesReady</code></td><td>ConditionTypeDataVolumesReady is a constant for a condition type indicating that the etcd data volumes are ready.<br></td></tr><tr><td><code>Succeeded</code></td><td>EtcdCopyBackupsTaskSucceeded is a condition type indicating that a EtcdCopyBackupsTask has succeeded.<br></td></tr><tr><td><code>Failed</code></td><td>EtcdCopyBackupsTaskFailed is a condition type indicating that a EtcdCopyBackupsTask has failed.<br></td></tr></tbody></table><h4 id="crossversionobjectreference" tabindex="-1">CrossVersionObjectReference <a class="header-anchor" href="#crossversionobjectreference" aria-label="Permalink to &quot;CrossVersionObjectReference&quot;">​</a></h4><p>CrossVersionObjectReference contains enough information to let you identify the referred resource.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdstatus">EtcdStatus</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>kind</code> <em>string</em></td><td>Kind of the referent</td><td></td><td></td></tr><tr><td><code>name</code> <em>string</em></td><td>Name of the referent</td><td></td><td></td></tr><tr><td><code>apiVersion</code> <em>string</em></td><td>API version of the referent</td><td></td><td></td></tr></tbody></table><h4 id="errorcode" tabindex="-1">ErrorCode <a class="header-anchor" href="#errorcode" aria-label="Permalink to &quot;ErrorCode&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>ErrorCode is a string alias representing an error code that identifies an error.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#lasterror">LastError</a></li></ul><h4 id="etcd" tabindex="-1">Etcd <a class="header-anchor" href="#etcd" aria-label="Permalink to &quot;Etcd&quot;">​</a></h4><p>Etcd is the Schema for the etcds API</p><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>apiVersion</code> <em>string</em></td><td><code>druid.gardener.cloud/v1alpha1</code></td><td></td><td></td></tr><tr><td><code>kind</code> <em>string</em></td><td><code>Etcd</code></td><td></td><td></td></tr><tr><td><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#objectmeta-v1-meta" target="_blank" rel="noreferrer">ObjectMeta</a></em></td><td>Refer to Kubernetes API documentation for fields of <code>metadata</code>.</td><td></td><td></td></tr><tr><td><code>spec</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdspec">EtcdSpec</a></em></td><td></td><td></td><td></td></tr><tr><td><code>status</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdstatus">EtcdStatus</a></em></td><td></td><td></td><td></td></tr></tbody></table><h4 id="etcdconfig" tabindex="-1">EtcdConfig <a class="header-anchor" href="#etcdconfig" aria-label="Permalink to &quot;EtcdConfig&quot;">​</a></h4><p>EtcdConfig defines the configuration for the etcd cluster to be deployed.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdspec">EtcdSpec</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>quota</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#quantity-resource-api" target="_blank" rel="noreferrer">Quantity</a></em></td><td>Quota defines the etcd DB quota.</td><td></td><td></td></tr><tr><td><code>snapshotCount</code> <em>integer</em></td><td>SnapshotCount defines the number of applied Raft entries to hold in-memory before compaction.<br>More info: <a href="https://etcd.io/docs/v3.4/op-guide/maintenance/#raft-log-retention" target="_blank" rel="noreferrer">https://etcd.io/docs/v3.4/op-guide/maintenance/#raft-log-retention</a></td><td></td><td></td></tr><tr><td><code>defragmentationSchedule</code> <em>string</em></td><td>DefragmentationSchedule defines the cron standard schedule for defragmentation of etcd.</td><td></td><td>Pattern: <code>^(\\*|[1-5]?[0-9]|[1-5]?[0-9]-[1-5]?[0-9]|(?:[1-9]|[1-4][0-9]|5[0-9])\\/(?:[1-9]|[1-4][0-9]|5[0-9]|60)|\\*\\/(?:[1-9]|[1-4][0-9]|5[0-9]|60))\\s+(\\*|[0-9]|1[0-9]|2[0-3]|[0-9]-(?:[0-9]|1[0-9]|2[0-3])|1[0-9]-(?:1[0-9]|2[0-3])|2[0-3]-2[0-3]|(?:[1-9]|1[0-9]|2[0-3])\\/(?:[1-9]|1[0-9]|2[0-4])|\\*\\/(?:[1-9]|1[0-9]|2[0-4]))\\s+(\\*|[1-9]|[12][0-9]|3[01]|[1-9]-(?:[1-9]|[12][0-9]|3[01])|[12][0-9]-(?:[12][0-9]|3[01])|3[01]-3[01]|(?:[1-9]|[12][0-9]|30)\\/(?:[1-9]|[12][0-9]|3[01])|\\*\\/(?:[1-9]|[12][0-9]|3[01]))\\s+(\\*|[1-9]|1[0-2]|[1-9]-(?:[1-9]|1[0-2])|1[0-2]-1[0-2]|(?:[1-9]|1[0-2])\\/(?:[1-9]|1[0-2])|\\*\\/(?:[1-9]|1[0-2]))\\s+(\\*|[1-7]|[1-6]-[1-7]|[1-6]\\/[1-7]|\\*\\/[1-7])$</code> <br></td></tr><tr><td><code>serverPort</code> <em>integer</em></td><td></td><td></td><td></td></tr><tr><td><code>clientPort</code> <em>integer</em></td><td></td><td></td><td></td></tr><tr><td><code>wrapperPort</code> <em>integer</em></td><td></td><td></td><td></td></tr><tr><td><code>image</code> <em>string</em></td><td>Image defines the etcd container image and tag</td><td></td><td></td></tr><tr><td><code>authSecretRef</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#secretreference-v1-core" target="_blank" rel="noreferrer">SecretReference</a></em></td><td></td><td></td><td></td></tr><tr><td><code>metrics</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#metricslevel">MetricsLevel</a></em></td><td>Metrics defines the level of detail for exported metrics of etcd, specify &#39;extensive&#39; to include histogram metrics.</td><td></td><td>Enum: [basic extensive] <br></td></tr><tr><td><code>resources</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#resourcerequirements-v1-core" target="_blank" rel="noreferrer">ResourceRequirements</a></em></td><td>Resources defines the compute Resources required by etcd container.<br>More info: <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/" target="_blank" rel="noreferrer">https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/</a></td><td></td><td></td></tr><tr><td><code>clientUrlTls</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#tlsconfig">TLSConfig</a></em></td><td>ClientUrlTLS contains the ca, server TLS and client TLS secrets for client communication to ETCD cluster</td><td></td><td></td></tr><tr><td><code>peerUrlTls</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#tlsconfig">TLSConfig</a></em></td><td>PeerUrlTLS contains the ca and server TLS secrets for peer communication within ETCD cluster<br>Currently, PeerUrlTLS does not require client TLS secrets for gardener implementation of ETCD cluster.</td><td></td><td></td></tr><tr><td><code>etcdDefragTimeout</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>EtcdDefragTimeout defines the timeout duration for etcd defrag call</td><td></td><td>Pattern: <code>^([0-9]+([.][0-9]+)?h)?([0-9]+([.][0-9]+)?m)?([0-9]+([.][0-9]+)?s)?([0-9]+([.][0-9]+)?d)?$</code> <br>Type: string <br></td></tr><tr><td><code>heartbeatDuration</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>HeartbeatDuration defines the duration for members to send heartbeats. The default value is 10s.</td><td></td><td>Pattern: <code>^([0-9]+([.][0-9]+)?h)?([0-9]+([.][0-9]+)?m)?([0-9]+([.][0-9]+)?s)?$</code> <br>Type: string <br></td></tr><tr><td><code>clientService</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#clientservice">ClientService</a></em></td><td>ClientService defines the parameters of the client service that a user can specify</td><td></td><td></td></tr></tbody></table><h4 id="etcdcopybackupstask" tabindex="-1">EtcdCopyBackupsTask <a class="header-anchor" href="#etcdcopybackupstask" aria-label="Permalink to &quot;EtcdCopyBackupsTask&quot;">​</a></h4><p>EtcdCopyBackupsTask is a task for copying etcd backups from a source to a target store.</p><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>apiVersion</code> <em>string</em></td><td><code>druid.gardener.cloud/v1alpha1</code></td><td></td><td></td></tr><tr><td><code>kind</code> <em>string</em></td><td><code>EtcdCopyBackupsTask</code></td><td></td><td></td></tr><tr><td><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#objectmeta-v1-meta" target="_blank" rel="noreferrer">ObjectMeta</a></em></td><td>Refer to Kubernetes API documentation for fields of <code>metadata</code>.</td><td></td><td></td></tr><tr><td><code>spec</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcopybackupstaskspec">EtcdCopyBackupsTaskSpec</a></em></td><td></td><td></td><td></td></tr><tr><td><code>status</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcopybackupstaskstatus">EtcdCopyBackupsTaskStatus</a></em></td><td></td><td></td><td></td></tr></tbody></table><h4 id="etcdcopybackupstaskspec" tabindex="-1">EtcdCopyBackupsTaskSpec <a class="header-anchor" href="#etcdcopybackupstaskspec" aria-label="Permalink to &quot;EtcdCopyBackupsTaskSpec&quot;">​</a></h4><p>EtcdCopyBackupsTaskSpec defines the parameters for the copy backups task.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcopybackupstask">EtcdCopyBackupsTask</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>podLabels</code> <em>object (keys:string, values:string)</em></td><td>PodLabels is a set of labels that will be added to pod(s) created by the copy backups task.</td><td></td><td></td></tr><tr><td><code>sourceStore</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#storespec">StoreSpec</a></em></td><td>SourceStore defines the specification of the source object store provider for storing backups.</td><td></td><td></td></tr><tr><td><code>targetStore</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#storespec">StoreSpec</a></em></td><td>TargetStore defines the specification of the target object store provider for storing backups.</td><td></td><td></td></tr><tr><td><code>maxBackupAge</code> <em>integer</em></td><td>MaxBackupAge is the maximum age in days that a backup must have in order to be copied.<br>By default, all backups will be copied.</td><td></td><td></td></tr><tr><td><code>maxBackups</code> <em>integer</em></td><td>MaxBackups is the maximum number of backups that will be copied starting with the most recent ones.</td><td></td><td></td></tr><tr><td><code>waitForFinalSnapshot</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#waitforfinalsnapshotspec">WaitForFinalSnapshotSpec</a></em></td><td>WaitForFinalSnapshot defines the parameters for waiting for a final full snapshot before copying backups.</td><td></td><td></td></tr></tbody></table><h4 id="etcdcopybackupstaskstatus" tabindex="-1">EtcdCopyBackupsTaskStatus <a class="header-anchor" href="#etcdcopybackupstaskstatus" aria-label="Permalink to &quot;EtcdCopyBackupsTaskStatus&quot;">​</a></h4><p>EtcdCopyBackupsTaskStatus defines the observed state of the copy backups task.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcopybackupstask">EtcdCopyBackupsTask</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>conditions</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#condition">Condition</a> array</em></td><td>Conditions represents the latest available observations of an object&#39;s current state.</td><td></td><td></td></tr><tr><td><code>observedGeneration</code> <em>integer</em></td><td>ObservedGeneration is the most recent generation observed for this resource.</td><td></td><td></td></tr><tr><td><code>lastError</code> <em>string</em></td><td>LastError represents the last occurred error.</td><td></td><td></td></tr></tbody></table><h4 id="etcdmemberconditionstatus" tabindex="-1">EtcdMemberConditionStatus <a class="header-anchor" href="#etcdmemberconditionstatus" aria-label="Permalink to &quot;EtcdMemberConditionStatus&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>EtcdMemberConditionStatus is the status of an etcd cluster member.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdmemberstatus">EtcdMemberStatus</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>Ready</code></td><td>EtcdMemberStatusReady indicates that the etcd member is ready.<br></td></tr><tr><td><code>NotReady</code></td><td>EtcdMemberStatusNotReady indicates that the etcd member is not ready.<br></td></tr><tr><td><code>Unknown</code></td><td>EtcdMemberStatusUnknown indicates that the status of the etcd member is unknown.<br></td></tr></tbody></table><h4 id="etcdmemberstatus" tabindex="-1">EtcdMemberStatus <a class="header-anchor" href="#etcdmemberstatus" aria-label="Permalink to &quot;EtcdMemberStatus&quot;">​</a></h4><p>EtcdMemberStatus holds information about etcd cluster membership.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdstatus">EtcdStatus</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>name</code> <em>string</em></td><td>Name is the name of the etcd member. It is the name of the backing <code>Pod</code>.</td><td></td><td></td></tr><tr><td><code>id</code> <em>string</em></td><td>ID is the ID of the etcd member.</td><td></td><td></td></tr><tr><td><code>role</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdrole">EtcdRole</a></em></td><td>Role is the role in the etcd cluster, either <code>Leader</code> or <code>Member</code>.</td><td></td><td></td></tr><tr><td><code>status</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdmemberconditionstatus">EtcdMemberConditionStatus</a></em></td><td>Status of the condition, one of True, False, Unknown.</td><td></td><td></td></tr><tr><td><code>reason</code> <em>string</em></td><td>The reason for the condition&#39;s last transition.</td><td></td><td></td></tr><tr><td><code>lastTransitionTime</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#time-v1-meta" target="_blank" rel="noreferrer">Time</a></em></td><td>LastTransitionTime is the last time the condition&#39;s status changed.</td><td></td><td></td></tr></tbody></table><h4 id="etcdrole" tabindex="-1">EtcdRole <a class="header-anchor" href="#etcdrole" aria-label="Permalink to &quot;EtcdRole&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>EtcdRole is the role of an etcd cluster member.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdmemberstatus">EtcdMemberStatus</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>Leader</code></td><td>EtcdRoleLeader describes the etcd role <code>Leader</code>.<br></td></tr><tr><td><code>Member</code></td><td>EtcdRoleMember describes the etcd role <code>Member</code>.<br></td></tr></tbody></table><h4 id="etcdspec" tabindex="-1">EtcdSpec <a class="header-anchor" href="#etcdspec" aria-label="Permalink to &quot;EtcdSpec&quot;">​</a></h4><p>EtcdSpec defines the desired state of Etcd</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcd">Etcd</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>selector</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#labelselector-v1-meta" target="_blank" rel="noreferrer">LabelSelector</a></em></td><td>selector is a label query over pods that should match the replica count.<br>It must match the pod template&#39;s labels.<br>More info: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors" target="_blank" rel="noreferrer">https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors</a><br>Deprecated: this field will be removed in the future.</td><td></td><td></td></tr><tr><td><code>labels</code> <em>object (keys:string, values:string)</em></td><td></td><td></td><td></td></tr><tr><td><code>annotations</code> <em>object (keys:string, values:string)</em></td><td></td><td></td><td></td></tr><tr><td><code>etcd</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdconfig">EtcdConfig</a></em></td><td></td><td></td><td></td></tr><tr><td><code>backup</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#backupspec">BackupSpec</a></em></td><td></td><td></td><td></td></tr><tr><td><code>sharedConfig</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#sharedconfig">SharedConfig</a></em></td><td></td><td></td><td></td></tr><tr><td><code>schedulingConstraints</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#schedulingconstraints">SchedulingConstraints</a></em></td><td></td><td></td><td></td></tr><tr><td><code>replicas</code> <em>integer</em></td><td></td><td></td><td></td></tr><tr><td><code>priorityClassName</code> <em>string</em></td><td>PriorityClassName is the name of a priority class that shall be used for the etcd pods.</td><td></td><td></td></tr><tr><td><code>storageClass</code> <em>string</em></td><td>StorageClass defines the name of the StorageClass required by the claim.<br>More info: <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes#class-1" target="_blank" rel="noreferrer">https://kubernetes.io/docs/concepts/storage/persistent-volumes#class-1</a></td><td></td><td></td></tr><tr><td><code>storageCapacity</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#quantity-resource-api" target="_blank" rel="noreferrer">Quantity</a></em></td><td>StorageCapacity defines the size of persistent volume.</td><td></td><td></td></tr><tr><td><code>volumeClaimTemplate</code> <em>string</em></td><td>VolumeClaimTemplate defines the volume claim template to be created</td><td></td><td></td></tr><tr><td><code>runAsRoot</code> <em>boolean</em></td><td>RunAsRoot defines whether the securityContext of the pod specification should indicate that the containers shall<br>run as root. By default, they run as non-root with user &#39;nobody&#39;.</td><td></td><td></td></tr></tbody></table><h4 id="etcdstatus" tabindex="-1">EtcdStatus <a class="header-anchor" href="#etcdstatus" aria-label="Permalink to &quot;EtcdStatus&quot;">​</a></h4><p>EtcdStatus defines the observed state of Etcd.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcd">Etcd</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>observedGeneration</code> <em>integer</em></td><td>ObservedGeneration is the most recent generation observed for this resource.</td><td></td><td></td></tr><tr><td><code>etcd</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#crossversionobjectreference">CrossVersionObjectReference</a></em></td><td></td><td></td><td></td></tr><tr><td><code>conditions</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#condition">Condition</a> array</em></td><td>Conditions represents the latest available observations of an etcd&#39;s current state.</td><td></td><td></td></tr><tr><td><code>lastErrors</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#lasterror">LastError</a> array</em></td><td>LastErrors captures errors that occurred during the last operation.</td><td></td><td></td></tr><tr><td><code>lastOperation</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#lastoperation">LastOperation</a></em></td><td>LastOperation indicates the last operation performed on this resource.</td><td></td><td></td></tr><tr><td><code>currentReplicas</code> <em>integer</em></td><td>CurrentReplicas is the current replica count for the etcd cluster.</td><td></td><td></td></tr><tr><td><code>replicas</code> <em>integer</em></td><td>Replicas is the replica count of the etcd cluster.</td><td></td><td></td></tr><tr><td><code>readyReplicas</code> <em>integer</em></td><td>ReadyReplicas is the count of replicas being ready in the etcd cluster.</td><td></td><td></td></tr><tr><td><code>ready</code> <em>boolean</em></td><td>Ready is <code>true</code> if all etcd replicas are ready.</td><td></td><td></td></tr><tr><td><code>labelSelector</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#labelselector-v1-meta" target="_blank" rel="noreferrer">LabelSelector</a></em></td><td>LabelSelector is a label query over pods that should match the replica count.<br>It must match the pod template&#39;s labels.<br>Deprecated: this field will be removed in the future.</td><td></td><td></td></tr><tr><td><code>members</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdmemberstatus">EtcdMemberStatus</a> array</em></td><td>Members represents the members of the etcd cluster</td><td></td><td></td></tr><tr><td><code>peerUrlTLSEnabled</code> <em>boolean</em></td><td>PeerUrlTLSEnabled captures the state of peer url TLS being enabled for the etcd member(s)</td><td></td><td></td></tr><tr><td><code>selector</code> <em>string</em></td><td>Selector is a label query over pods that should match the replica count.<br>It must match the pod template&#39;s labels.</td><td></td><td></td></tr></tbody></table><h4 id="garbagecollectionpolicy" tabindex="-1">GarbageCollectionPolicy <a class="header-anchor" href="#garbagecollectionpolicy" aria-label="Permalink to &quot;GarbageCollectionPolicy&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>GarbageCollectionPolicy defines the type of policy for snapshot garbage collection.</p><p><em>Validation:</em></p><ul><li>Enum: [Exponential LimitBased]</li></ul><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#backupspec">BackupSpec</a></li></ul><h4 id="lasterror" tabindex="-1">LastError <a class="header-anchor" href="#lasterror" aria-label="Permalink to &quot;LastError&quot;">​</a></h4><p>LastError stores details of the most recent error encountered for a resource.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdstatus">EtcdStatus</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>code</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#errorcode">ErrorCode</a></em></td><td>Code is an error code that uniquely identifies an error.</td><td></td><td></td></tr><tr><td><code>description</code> <em>string</em></td><td>Description is a human-readable message indicating details of the error.</td><td></td><td></td></tr><tr><td><code>observedAt</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#time-v1-meta" target="_blank" rel="noreferrer">Time</a></em></td><td>ObservedAt is the time the error was observed.</td><td></td><td></td></tr></tbody></table><h4 id="lastoperation" tabindex="-1">LastOperation <a class="header-anchor" href="#lastoperation" aria-label="Permalink to &quot;LastOperation&quot;">​</a></h4><p>LastOperation holds the information on the last operation done on the Etcd resource.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdstatus">EtcdStatus</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>type</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#lastoperationtype">LastOperationType</a></em></td><td>Type is the type of last operation.</td><td></td><td></td></tr><tr><td><code>state</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#lastoperationstate">LastOperationState</a></em></td><td>State is the state of the last operation.</td><td></td><td></td></tr><tr><td><code>description</code> <em>string</em></td><td>Description describes the last operation.</td><td></td><td></td></tr><tr><td><code>runID</code> <em>string</em></td><td>RunID correlates an operation with a reconciliation run.<br>Every time an Etcd resource is reconciled (barring status reconciliation which is periodic), a unique ID is<br>generated which can be used to correlate all actions done as part of a single reconcile run. Capturing this<br>as part of LastOperation aids in establishing this correlation. This further helps in also easily filtering<br>reconcile logs as all structured logs in a reconciliation run should have the <code>runID</code> referenced.</td><td></td><td></td></tr><tr><td><code>lastUpdateTime</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#time-v1-meta" target="_blank" rel="noreferrer">Time</a></em></td><td>LastUpdateTime is the time at which the operation was last updated.</td><td></td><td></td></tr></tbody></table><h4 id="lastoperationstate" tabindex="-1">LastOperationState <a class="header-anchor" href="#lastoperationstate" aria-label="Permalink to &quot;LastOperationState&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>LastOperationState is a string alias representing the state of the last operation.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#lastoperation">LastOperation</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>Processing</code></td><td>LastOperationStateProcessing indicates that an operation is in progress.<br></td></tr><tr><td><code>Succeeded</code></td><td>LastOperationStateSucceeded indicates that an operation has completed successfully.<br></td></tr><tr><td><code>Error</code></td><td>LastOperationStateError indicates that an operation is completed with errors and will be retried.<br></td></tr><tr><td><code>Requeue</code></td><td>LastOperationStateRequeue indicates that an operation is not completed and either due to an error or unfulfilled conditions will be retried.<br></td></tr></tbody></table><h4 id="lastoperationtype" tabindex="-1">LastOperationType <a class="header-anchor" href="#lastoperationtype" aria-label="Permalink to &quot;LastOperationType&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>LastOperationType is a string alias representing type of the last operation.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#lastoperation">LastOperation</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>Create</code></td><td>LastOperationTypeCreate indicates that the last operation was a creation of a new Etcd resource.<br></td></tr><tr><td><code>Reconcile</code></td><td>LastOperationTypeReconcile indicates that the last operation was a reconciliation of the spec of an Etcd resource.<br></td></tr><tr><td><code>Delete</code></td><td>LastOperationTypeDelete indicates that the last operation was a deletion of an existing Etcd resource.<br></td></tr></tbody></table><h4 id="leaderelectionspec" tabindex="-1">LeaderElectionSpec <a class="header-anchor" href="#leaderelectionspec" aria-label="Permalink to &quot;LeaderElectionSpec&quot;">​</a></h4><p>LeaderElectionSpec defines parameters related to the LeaderElection configuration.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#backupspec">BackupSpec</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>reelectionPeriod</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>ReelectionPeriod defines the Period after which leadership status of corresponding etcd is checked.</td><td></td><td>Pattern: <code>^([0-9]+([.][0-9]+)?h)?([0-9]+([.][0-9]+)?m)?([0-9]+([.][0-9]+)?s)?([0-9]+([.][0-9]+)?d)?$</code> <br>Type: string <br></td></tr><tr><td><code>etcdConnectionTimeout</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>EtcdConnectionTimeout defines the timeout duration for etcd client connection during leader election.</td><td></td><td>Pattern: <code>^([0-9]+([.][0-9]+)?h)?([0-9]+([.][0-9]+)?m)?([0-9]+([.][0-9]+)?s)?([0-9]+([.][0-9]+)?d)?$</code> <br>Type: string <br></td></tr></tbody></table><h4 id="metricslevel" tabindex="-1">MetricsLevel <a class="header-anchor" href="#metricslevel" aria-label="Permalink to &quot;MetricsLevel&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>MetricsLevel defines the level &#39;basic&#39; or &#39;extensive&#39;.</p><p><em>Validation:</em></p><ul><li>Enum: [basic extensive]</li></ul><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdconfig">EtcdConfig</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>basic</code></td><td>Basic is a constant for metrics level basic.<br></td></tr><tr><td><code>extensive</code></td><td>Extensive is a constant for metrics level extensive.<br></td></tr></tbody></table><h4 id="schedulingconstraints" tabindex="-1">SchedulingConstraints <a class="header-anchor" href="#schedulingconstraints" aria-label="Permalink to &quot;SchedulingConstraints&quot;">​</a></h4><p>SchedulingConstraints defines the different scheduling constraints that must be applied to the pod spec in the etcd statefulset. Currently supported constraints are Affinity and TopologySpreadConstraints.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdspec">EtcdSpec</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>affinity</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#affinity-v1-core" target="_blank" rel="noreferrer">Affinity</a></em></td><td>Affinity defines the various affinity and anti-affinity rules for a pod<br>that are honoured by the kube-scheduler.</td><td></td><td></td></tr><tr><td><code>topologySpreadConstraints</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#topologyspreadconstraint-v1-core" target="_blank" rel="noreferrer">TopologySpreadConstraint</a> array</em></td><td>TopologySpreadConstraints describes how a group of pods ought to spread across topology domains,<br>that are honoured by the kube-scheduler.</td><td></td><td></td></tr></tbody></table><h4 id="secretreference" tabindex="-1">SecretReference <a class="header-anchor" href="#secretreference" aria-label="Permalink to &quot;SecretReference&quot;">​</a></h4><p>SecretReference defines a reference to a secret.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#tlsconfig">TLSConfig</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>dataKey</code> <em>string</em></td><td>DataKey is the name of the key in the data map containing the credentials.</td><td></td><td></td></tr></tbody></table><h4 id="sharedconfig" tabindex="-1">SharedConfig <a class="header-anchor" href="#sharedconfig" aria-label="Permalink to &quot;SharedConfig&quot;">​</a></h4><p>SharedConfig defines parameters shared and used by Etcd as well as backup-restore sidecar.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdspec">EtcdSpec</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>autoCompactionMode</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#compactionmode">CompactionMode</a></em></td><td>AutoCompactionMode defines the auto-compaction-mode:&#39;periodic&#39; mode or &#39;revision&#39; mode for etcd and embedded-etcd of backup-restore sidecar.</td><td></td><td>Enum: [periodic revision] <br></td></tr><tr><td><code>autoCompactionRetention</code> <em>string</em></td><td>AutoCompactionRetention defines the auto-compaction-retention length for etcd as well as for embedded-etcd of backup-restore sidecar.</td><td></td><td></td></tr></tbody></table><h4 id="snapshotcompactionspec" tabindex="-1">SnapshotCompactionSpec <a class="header-anchor" href="#snapshotcompactionspec" aria-label="Permalink to &quot;SnapshotCompactionSpec&quot;">​</a></h4><p>SnapshotCompactionSpec defines parameters related to the compaction job configuration.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#backupspec">BackupSpec</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>resources</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#resourcerequirements-v1-core" target="_blank" rel="noreferrer">ResourceRequirements</a></em></td><td>Resources defines compute Resources required by compaction job.<br>More info: <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/" target="_blank" rel="noreferrer">https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/</a></td><td></td><td></td></tr><tr><td><code>eventsThreshold</code> <em>integer</em></td><td>EventsThreshold defines the threshold for the number of etcd events before triggering a compaction job</td><td></td><td></td></tr><tr><td><code>triggerFullSnapshotThreshold</code> <em>integer</em></td><td>TriggerFullSnapshotThreshold defines the upper threshold for the number of etcd events before giving up on compaction job and triggering a full snapshot.</td><td></td><td></td></tr></tbody></table><h4 id="storageprovider" tabindex="-1">StorageProvider <a class="header-anchor" href="#storageprovider" aria-label="Permalink to &quot;StorageProvider&quot;">​</a></h4><p><em>Underlying type:</em> <em>string</em></p><p>StorageProvider defines the type of object store provider for storing backups.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#storespec">StoreSpec</a></li></ul><h4 id="storespec" tabindex="-1">StoreSpec <a class="header-anchor" href="#storespec" aria-label="Permalink to &quot;StoreSpec&quot;">​</a></h4><p>StoreSpec defines parameters related to ObjectStore persisting backups</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#backupspec">BackupSpec</a></li><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcopybackupstaskspec">EtcdCopyBackupsTaskSpec</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>container</code> <em>string</em></td><td>Container is the name of the container the backup is stored at.</td><td></td><td></td></tr><tr><td><code>prefix</code> <em>string</em></td><td>Prefix is the prefix used for the store.</td><td></td><td></td></tr><tr><td><code>provider</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#storageprovider">StorageProvider</a></em></td><td>Provider is the name of the backup provider.</td><td></td><td></td></tr><tr><td><code>secretRef</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#secretreference-v1-core" target="_blank" rel="noreferrer">SecretReference</a></em></td><td>SecretRef is the reference to the secret which used to connect to the backup store.</td><td></td><td></td></tr></tbody></table><h4 id="tlsconfig" tabindex="-1">TLSConfig <a class="header-anchor" href="#tlsconfig" aria-label="Permalink to &quot;TLSConfig&quot;">​</a></h4><p>TLSConfig hold the TLS configuration details.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#backupspec">BackupSpec</a></li><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdconfig">EtcdConfig</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>tlsCASecretRef</code> <em><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#secretreference">SecretReference</a></em></td><td></td><td></td><td></td></tr><tr><td><code>serverTLSSecretRef</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#secretreference-v1-core" target="_blank" rel="noreferrer">SecretReference</a></em></td><td></td><td></td><td></td></tr><tr><td><code>clientTLSSecretRef</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#secretreference-v1-core" target="_blank" rel="noreferrer">SecretReference</a></em></td><td></td><td></td><td></td></tr></tbody></table><h4 id="waitforfinalsnapshotspec" tabindex="-1">WaitForFinalSnapshotSpec <a class="header-anchor" href="#waitforfinalsnapshotspec" aria-label="Permalink to &quot;WaitForFinalSnapshotSpec&quot;">​</a></h4><p>WaitForFinalSnapshotSpec defines the parameters for waiting for a final full snapshot before copying backups.</p><p><em>Appears in:</em></p><ul><li><a href="/documentation/pr-preview/pr-2/docs/other-components/etcd-druid/api-reference/etcd-druid-api/#etcdcopybackupstaskspec">EtcdCopyBackupsTaskSpec</a></li></ul><table tabindex="0"><thead><tr><th>Field</th><th>Description</th><th>Default</th><th>Validation</th></tr></thead><tbody><tr><td><code>enabled</code> <em>boolean</em></td><td>Enabled specifies whether to wait for a final full snapshot before copying backups.</td><td></td><td></td></tr><tr><td><code>timeout</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.29/#duration-v1-meta" target="_blank" rel="noreferrer">Duration</a></em></td><td>Timeout is the timeout for waiting for a final full snapshot. When this timeout expires, the copying of backups<br>will be performed anyway. No timeout or 0 means wait forever.</td><td></td><td></td></tr></tbody></table>',283)]))}const m=t(a,[["render",i]]);export{u as __pageData,m as default};
