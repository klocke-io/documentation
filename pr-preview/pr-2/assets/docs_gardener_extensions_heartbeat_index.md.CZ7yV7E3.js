import{_ as t,c as o,o as a,a2 as r}from"./chunks/framework.Bfq10Vlj.js";const p=JSON.parse('{"title":"Heartbeat","description":"","frontmatter":{"github_repo":"https://github.com/gardener/gardener","github_subdir":"docs/extensions","params":{"github_branch":"master"},"path_base_for_github_subdir":{"from":"content/docs/gardener/extensions/heartbeat.md","to":"heartbeat.md"},"title":"Heartbeat","prev":false,"next":false},"headers":[],"relativePath":"docs/gardener/extensions/heartbeat/index.md","filePath":"docs/gardener/extensions/heartbeat.md","lastUpdated":null}'),n={name:"docs/gardener/extensions/heartbeat/index.md"};function s(d,e,c,h,i,l){return a(),o("div",null,e[0]||(e[0]=[r('<h1 id="heartbeat-controller" tabindex="-1">Heartbeat Controller <a class="header-anchor" href="#heartbeat-controller" aria-label="Permalink to &quot;Heartbeat Controller&quot;">â€‹</a></h1><p>The heartbeat controller renews a dedicated <code>Lease</code> object named <code>gardener-extension-heartbeat</code> at regular 30 second intervals by default. This <code>Lease</code> is used for heartbeats similar to how <code>gardenlet</code> uses <code>Lease</code> objects for seed heartbeats (see <a href="/docs/gardener/concepts/gardenlet/#heartbeats">gardenlet heartbeats</a>).</p><p>The <code>gardener-extension-heartbeat</code> <code>Lease</code> can be checked by other controllers to verify that the corresponding extension controller is still running. Currently, <code>gardenlet</code> checks this <code>Lease</code> when performing shoot health checks and expects to find the <code>Lease</code> inside the namespace where the extension controller is deployed by the corresponding <code>ControllerInstallation</code>. For each extension resource deployed in the Shoot control plane, <code>gardenlet</code> finds the corresponding <code>gardener-extension-heartbeat</code> <code>Lease</code> resource and checks whether the <code>Lease</code>&#39;s <code>.spec.renewTime</code> is older than the allowed threshold for stale extension health checks - in this case, <code>gardenlet</code> considers the health check report for an extension resource as &quot;outdated&quot; and reflects this in the <code>Shoot</code> status.</p>',3)]))}const g=t(n,[["render",s]]);export{p as __pageData,g as default};
